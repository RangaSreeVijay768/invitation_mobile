<blasts-get-blast-list-items-by-blast-list-no-template
        [blastList]="blastList" [columnName]="'createdTime'" [columnOrder]="'DESC'"
        (blastListsItemsReceived)="blastListItems=getBlastListItemsByBlastListNoTemplateComponent.blastListItems"
        (blastListsItemsReceived)="print()"

        #getBlastListItemsByBlastListNoTemplateComponent
></blasts-get-blast-list-items-by-blast-list-no-template>

<user-profiles-create-event-blast
        [event]="selectedEvent"
        [blastList]="blastList"
        #createEventBlastComponent
></user-profiles-create-event-blast>


<swiper-container (afterinit)="swiperReady($event)"
                  #swiper class="h-100p scrollbar" >


    <swiper-slide style="overflow-x: scroll">
        <ion-row class="mt-4">
            <ion-col size="12" class="default-horizontal-padding font-weight-bold font-size-18px font-color-1">
                Upcoming events <ion-label class="font-weight-bold font-size-18px font-color-grey-2">({{events?.length}})</ion-label>
            </ion-col>
        </ion-row>
        <user-profiles-get-all-events (eventsReceived)="events=$event" [startTime]="current_time"
                                      [columnName]="'createdTime'" [columnOrder]="'DESC'"
                                      [count]="10"
                                      #eventsComponent></user-profiles-get-all-events>
        <ion-row class="default-horizontal-padding mt-4 mb-20" >
            <ion-col class="pv-4 bb-1px-grey" size="12" *ngFor="let event of events">
                <ion-row>
                    <ion-col size="1" >
                        <ion-label class="d-inline-block">

                            <input type="radio" name="radio" class="w-27 h-27"
                                   (click)="selectedEvent=event"
                            >
                        </ion-label>

                    </ion-col>
                    <ion-col size="3">
                        <ion-label class="d-inline-block">

                            <images-get-image-by-entity-and-type-unique-image-ngx-avatar
                                    [entityId]="event.event_id" [entityType]="'EVENT_PROFILE_PIC'"
                                    [alt]="event.event_title" [size]="56" [round]="false"

                            ></images-get-image-by-entity-and-type-unique-image-ngx-avatar>
                        </ion-label>
                    </ion-col>
                    <ion-col size="8">
                        <ion-label class="d-inline-block font-weight-bold font-color-1">{{event.event_title}}</ion-label><br>
                        <ion-label class="d-inline-block mt-4">
                            <ion-icon class="font-color-primary" name="calendar-clear-outline"></ion-icon>
                            <ion-label class="font-small font-color-grey-2">
                                {{event.start_time|appDateFormat}}
                            </ion-label>
                        </ion-label>
                        <ion-label class="d-inline-block mt-3">
                            <ion-icon class="font-color-primary" name="time-outline"></ion-icon>
                            <ion-label class="font-small font-color-grey-2">
                                {{event.start_time|appDateTimeToTimeFormat}} - {{event.end_time|appDateTimeToTimeFormat}}
                            </ion-label>
                        </ion-label>
                        <ion-label class="d-inline-block mt-3">
                            <ion-icon class="font-color-primary" name="location-outline"></ion-icon>
                            <ion-label class="font-small font-color-grey-2">
                                112, bulved street
                            </ion-label>
                        </ion-label>
                    </ion-col>
                </ion-row>
            </ion-col>


        </ion-row>



        <user-profiles-create-event-blast-no-template
                [event]="selectedEvent" [blastList]="blastList" (eventBlastCreated)="event_blast_id=$event;slideNext()"
                #createEventBlastNoTemplateComponent></user-profiles-create-event-blast-no-template>


    </swiper-slide>

    <swiper-slide>
        <ion-row class="default-horizontal-padding">
            <ion-col size="12" class="pv-6 bb-1px-dashed-medium-grey">
                <ion-label class="d-inline-block mr-4">
                    <input type="checkbox"
                           (change)="selectAllItems(blastListItems)">
                </ion-label>
                <ion-label class="font-small font-weight-bold font-color-1">
                    Select all contacts
                </ion-label>
            </ion-col>
            <ion-col size="12">
                <ion-row class="mv-4">
                    <ion-col class="mt-4" size="12" *ngFor="let blast_item of blastListItems">
                        <ion-row>
                            <ion-col size="2">
                                <images-get-image-by-entity-and-type-unique-image-ngx-avatar
                                        class="cursor-pointer d-flex justify-content-center mt-8px"
                                        [alt]="blast_item.blast_list.blast_list_name"
                                        [entityId]="blast_item.user_account?.user_account_id||'test'"
                                        [entityType]="'USER_PROFILE_PIC'"
                                        [size]="50"
                                        [round]="true"
                                ></images-get-image-by-entity-and-type-unique-image-ngx-avatar>
                            </ion-col>
                            <ion-col size="8">
                                <ion-label class="d-inline-block mb-1 font-size-14px font-color-grey-1">
                                                                    {{blast_item.display_name}}
                                </ion-label><br>
                                <ion-img src="assets/images/cake.png" class="flag-image-inline-small-label mr-1 d-inline-block"></ion-img>
                                <ion-label class="d-inline-block mr-2 font-size-14px font-color-grey-1"*ngIf="blast_item.user_account?.date_of_birth">
                                    {{blast_item.user_account?.date_of_birth|appDateFormat:'MMMM DD'}}
                                </ion-label>
                                <ion-label class="d-inline-block font-size-14px font-color-grey-1">&#8226;</ion-label>
                                <ion-label class="font-size-14px font-color-grey-1" *ngIf="blast_item.user_account?.city">Lives
                                    in {{blast_item.user_account.city}}</ion-label>
                            </ion-col>
                            <ion-col size="2">
                                <input type="checkbox" class="w-27 h-27" (click)="blast_list_item.push(blast_item)">
                            </ion-col>
                        </ion-row>
                    </ion-col>
                </ion-row>

            </ion-col>


        </ion-row>
    </swiper-slide>

    <swiper-slide>
        <ion-row class="mt-8 default-horizontal-padding">
            <ion-col size="12" *ngIf="selectedEvent">
                <ion-row>
                    <ion-col size="3">
                    </ion-col>
                    <ion-col size="6" >
                        <images-get-image-by-entity-and-type-unique-image-ngx-avatar
                                [entityId]="selectedEvent?.event_id" [entityType]="'EVENT_PROFILE_PIC'"
                                [alt]="selectedEvent.event_title"
                        ></images-get-image-by-entity-and-type-unique-image-ngx-avatar>
                    </ion-col>
                    <ion-col size="3"></ion-col>
                </ion-row>
            </ion-col>

            <ion-col size="12" class="mt-4 ion-text-center">
                <ion-label class="font-size-18px font-color-grey-2 font-weight-bold">
                    {{selectedEvent?.event_title}}
                </ion-label>
            </ion-col>
            <ion-col size="12" class="pa-4 ion-text-center mt-6 border-grey-1">
                <user-profiles-start-event-blast
                        [event_blast_id]="event_blast_id"
                        (eventBlastStarted)="eventBlastStarted.emit(event_blast_id); "
                        #startEventBlastComponent></user-profiles-start-event-blast>
            </ion-col>
        </ion-row>
    </swiper-slide>







</swiper-container>

<ion-row class="position-fixed-bottom-0 z-index-top-button w-100p bg-white ion-justify-content-center"
         *ngIf="currentSlide===SLIDES.SELECT_EVENT_SLIDE.slide_number">
    <ion-col size="12" class="default-horizontal-padding border-top pv-8 bg-white ">
        <ion-row class="d-flex">
            <ion-col size="5">
                <ion-button expand="block" size="large" fill="outline" (click)="closeModal()">
                    <ion-label class="font-small font-weight-700" >Cancel</ion-label>
                </ion-button>
            </ion-col>
            <ion-col size="2">
            </ion-col>
            <ion-col size="5" class="ion-text-end">
                <ion-button size="large" expand="block"
                            [promiseBtn]="createEventBlastNoTemplateComponent.create_event_blast_subscription$"
                            (click)="createEventBlastNoTemplateComponent.createEventBlast(createEventBlastNoTemplateComponent.createRequestData(undefined,selectedEvent.event_id))">
                    <ion-label class="font-small font-weight-700">Add contacts</ion-label>
                </ion-button>
            </ion-col>
        </ion-row>

    </ion-col>
</ion-row>

<ion-row class="position-fixed-bottom-0 z-index-top-button w-100p bg-white ion-justify-content-center" *ngIf="currentSlide===SLIDES.SELECT_CONTACT_SLIDE.slide_number">
    <ion-col size="12" class="default-horizontal-padding border-top pv-8 bg-white ">
        <user-profiles-add-event-blast-recipient-no-template
                [blast_list_items]="blast_list_item" [event_blast_id]="event_blast_id"
                (eventBlastAdded)="slideNext()"
                #addEventBlastRecipientNoTemplateComponent
        ></user-profiles-add-event-blast-recipient-no-template>
        <ion-row class="d-flex">
            <ion-col size="5">
                <ion-button expand="block" size="large" fill="outline" (click)="closeModal()">
                    <ion-label class="font-small font-weight-700" >Cancel</ion-label>
                </ion-button>
            </ion-col>
            <ion-col size="2">
            </ion-col>
            <ion-col size="5" class="ion-text-end">
                <ion-button size="large" expand="block"
                            [promiseBtn]="addEventBlastRecipientNoTemplateComponent.add_event_blast_recipients_subscription$"
                            (click)="addEventBlastRecipientNoTemplateComponent.addEventBlastRecipients(addEventBlastRecipientNoTemplateComponent.createRequestData())">
                    <ion-label class="font-small font-weight-700">Add message</ion-label>
                </ion-button>
            </ion-col>
        </ion-row>

    </ion-col>
</ion-row>


<ion-row class="position-fixed-bottom-0 z-index-top-button w-100p bg-white ion-justify-content-center" *ngIf="currentSlide===SLIDES.SEND_INVITATION_SLIDE.slide_number">
    <ion-col size="12" class="default-horizontal-padding border-top pv-8 bg-white ">
        <ion-row class="d-flex">
            <ion-col size="5">
                <ion-button (click)="closeModal()" expand="block" size="large" fill="outline" >
                    <ion-label class="font-small font-weight-700" >Cancel</ion-label>
                </ion-button>
            </ion-col>
            <ion-col size="2">
            </ion-col>
            <ion-col size="5" class="ion-text-end">
                <ion-button size="large" expand="block"
                            [promiseBtn]="startEventBlastComponent.start_event_blast_subscription$"
                            (click)="startEventBlastComponent.startEventBlast(startEventBlastComponent.createRequestData())">
                    <ion-label class="font-small font-weight-700">Send invitation</ion-label>
                </ion-button>
            </ion-col>
        </ion-row>

    </ion-col>
</ion-row>



